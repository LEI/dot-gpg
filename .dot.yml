---
role:
  pkg:
    - name: gnupg
      action: install
      os: ["!windows"]
    - name: gpg-agent # gnupg-agent
      os: debian # ["darwin", "debian"]
      # action: install
    # - name: gpg4win
    #   os: ["windows"]
    # - name: gpg-suite
    #   type: cask
    #   os: ["darwin"]
    - name: pinentry-mac
      os: ["darwin"]
    # - name: pass
    #   os: ["darwin"]
  dir: .gnupg
  link: # .gnupg/ -> autogenerated
    - ".gnupg/gpg.conf:.gnupg"
  template:
    - ".gnupg/gpg-agent.conf.tpl:.gnupg"
      # target: check ~/.gnupg/.gpg-agent.conf
  env:
    # /usr/local/MacGPG2/libexec/pinentry-mac.app/Contents/MacOS/pinentry-mac
    PINENTRY_PROGRAM: '{{if eq .OS "darwin"}}/usr/local/bin/pinentry-mac{{end}}'
  # install:
  #   # https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work
