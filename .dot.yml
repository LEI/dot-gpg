---
role:
  pkg:
    - gnupg
    - gpg-agent
    - name: pinentry-mac
      os: ["darwin"]
  link: # .gnupg/ -> autogenerated
    - ".gpp.conf"
  template:
    # - ".gpg-agent.conf.tpl"
    - source: .gpg-agent.conf.tpl
      # target: check ~/.gnupg/.gpg-agent.conf
      env:
        pinentry_program: '{{if eq .OS "darwin"}}/usr/local/bin/pinentry-mac{{end}}'
  # env:
  #   ...
  # install:
  #   # https://github.com/blog/2144-gpg-signature-verification
  #   # https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work
  #   - "git config --global user.signingkey <YOUR-SIGNING-KEY-PUB-ID>"
  #   - "git config --global commit.gpgsign true"
